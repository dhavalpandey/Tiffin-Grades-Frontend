(this.webpackJsonptiffingrades=this.webpackJsonptiffingrades||[]).push([[0],{58:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(45),i=n.n(o),r=(n(58),n(9)),l=function(){return!!localStorage.getItem("google_id")},s=function(){return!!localStorage.getItem("adjectives_submitted")},g=n(1);function j(){return Object(g.jsx)("div",{children:Object(g.jsxs)("h1",{children:["Hello, ",localStorage.getItem("name")]})})}var d=n(24),u=n.n(d),b=n(31),h=n(4),f=n(44),p=n(96),m=n(95),O=n(92),x=n(97),k=n(93),v=n(91),S=n(98);function w(){var e=c.a.useState({creative:!1,techincal:!1,hardWorking:!1,practical:!1,intelligent:!1,determined:!1}),t=Object(r.a)(e,2),n=t[0],a=t[1],o=n.creative,i=n.techincal,l=n.hardWorking,s=n.practical,j=n.intelligent,d=2!==[o,i,l,s,j].filter((function(e){return e})).length,w=function(e){a(Object(f.a)(Object(f.a)({},n),{},Object(h.a)({},e.target.name,e.target.checked)))},I=function(e){console.log("clicked")},C=function(){var e=Object(b.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d){e.next=5;break}return e.next=3,fetch("https://tiffingrades-api.herokuapp.com/adjectives",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({googleId:localStorage.getItem("google_id"),state:n})}).then((function(e){return e.json()})).then((function(e){"OK"===e.status?(alert(e.message),localStorage.setItem("adjectives_submitted",!0),window.location.reload()):(alert(e.message),localStorage.clear(),window.location.reload())})).catch((function(e){console.log("failed")}));case 3:e.next=6;break;case 5:alert("Please select 2 options.");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{children:[Object(g.jsxs)("h1",{children:["Hello, ",localStorage.getItem("name")]}),Object(g.jsx)("h1",{children:"Pick 2 words that best describe you:"}),Object(g.jsx)(p.a,{sx:{display:"flex"},children:Object(g.jsxs)(O.a,{required:!0,error:d,component:"fieldset",sx:{m:3},variant:"standard",children:[Object(g.jsx)(m.a,{component:"legend",children:"Pick Two"}),Object(g.jsxs)(x.a,{children:[Object(g.jsx)(k.a,{control:Object(g.jsx)(v.a,{checked:o,onChange:w,onClick:I,name:"creative"}),label:"Creative"}),Object(g.jsx)(k.a,{control:Object(g.jsx)(v.a,{checked:i,onChange:w,onClick:I,name:"techincal"}),label:"Techincal"}),Object(g.jsx)(k.a,{control:Object(g.jsx)(v.a,{checked:l,onChange:w,onClick:I,name:"hardWorking"}),label:"Hard-Working"}),Object(g.jsx)(k.a,{control:Object(g.jsx)(v.a,{checked:s,onChange:w,onClick:I,name:"practical"}),label:"Practical"}),Object(g.jsx)(k.a,{control:Object(g.jsx)(v.a,{checked:j,onChange:w,onClick:I,name:"intelligent"}),label:"Intelligent"})]})]})}),Object(g.jsx)(S.a,{variant:"contained",onClick:C,children:"Submit"})]})}var I=n(46);n(67);function C(){var e=function(e){alert("Login Failed, please try again"),localStorage.clear(),window.location.reload()},t=function(){var t=Object(b.a)(u.a.mark((function t(n){var a,c,o,i,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.googleId,c=n.profileObj.email,o=n.profileObj.name,i=n.profileObj.givenName,r=n.profileObj.imageUrl.slice(8),localStorage.setItem("google_id",n.googleId),localStorage.setItem("name",n.profileObj.givenName),localStorage.setItem("image",n.profileObj.imageUrl),t.next=10,fetch("https://tiffingrades-api.herokuapp.com/signup",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({googleId:a,email:c,fullName:o,firstName:i,imageUrl:r})}).then((function(e){return e.json()})).then((function(e){"OK"===e.status?(alert(e.message),window.location.reload()):(alert(e.message),localStorage.clear(),window.location.reload())})).catch((function(t){e()}));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(g.jsx)("div",{className:"login",children:Object(g.jsx)(I.GoogleLogin,{className:"login-btn",clientId:"1029185512831-qvr0he0tk57qv6t8mp35f7t200vnn8jb.apps.googleusercontent.com",onSuccess:t,onFailure:e,buttonText:"Login with Google",cookiePolicy:"single_host_origin"})})}var y=function(){var e=Object(a.useState)(l),t=Object(r.a)(e,2),n=t[0],c=(t[1],Object(a.useState)(s)),o=Object(r.a)(c,2),i=o[0];return o[1],n&&!i?Object(g.jsx)(w,{}):n&&i?Object(g.jsx)(j,{}):Object(g.jsx)(C,{})};i.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(y,{})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.65373876.chunk.js.map